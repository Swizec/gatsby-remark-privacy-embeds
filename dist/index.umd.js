!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("unist-util-visit")):"function"==typeof define&&define.amd?define(["unist-util-visit"],t):e.gatsbyRemarkPrivacyEmbeds=t(e.visit)}(this,function(e){return e=e&&e.hasOwnProperty("default")?e.default:e,function(t,r){var n=t.markdownAST;try{var u=[];return e(n,"link",function(e){e.url.match(/^http(s)?:\/\/(www\.)?(youtube\.com|youtu\.be)/)&&u.push(function(){return function(e,t){try{var r=e.url;return Promise.resolve(function(e){try{return Promise.resolve(fetch("https://pifc233qp6.execute-api.us-east-1.amazonaws.com/dev/embed?url="+e).then(function(e){return e.json()})).then(function(e){return e.url})}catch(e){return Promise.reject(e)}}(r)).then(function(t){return t&&(e.type="image",e.url=t,e.title="A youtube video",e.alt="A youtube video",e.children=null,e.properties={"data-embed-url":r,"data-embed-type":"youtube"},console.log(require("util").inspect(e,!1,null,!0))),e})}catch(e){return Promise.reject(e)}}(e)})}),Promise.resolve(Promise.all(u.map(function(e){return e()}))).then(function(){return n})}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
